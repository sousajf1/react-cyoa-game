{"version":3,"sources":["components/map/index.jsx","components/sprite/index.jsx","components/actor/index.jsx","hooks/use-walk/index.js","components/player/index.jsx","hooks/use-key-press/index.js","components/world/index.jsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Map","style","position","width","height","backgroundColor","border","Sprite","image","data","y","x","h","w","top","left","backgroundImage","backgroundRepeat","backgroundPosition","Actor","sprite","step","dir","useWalk","maxSteps","useState","setPosition","setDir","setStep","directions","down","right","up","modifier","walk","console","prev","posToCheck","MAP_WIDTH","MAP_HEIGHT","move","Player","fn","e","key","replace","toLowerCase","preventDefault","useEffect","window","addEventListener","removeEventListener","World","margin","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2LAEe,SAASA,IACpB,OAAO,qBACHC,MAAO,CACHC,SAAS,WACTC,MAAO,QACPC,OAAQ,QACRC,gBAAiB,UACjBC,OAAQ,qBCPL,SAASC,EAAT,GAA0C,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,KAAMP,EAAU,EAAVA,SACnCQ,EAAiBD,EAAjBC,EAAIC,EAAaF,EAAbE,EAAIC,EAASH,EAATG,EAAGC,EAAMJ,EAANI,EAClB,OAAO,qBACHZ,MAAO,CACHC,SAAS,WACTY,IAAKZ,EAASQ,EACdK,KAAMb,EAASS,EACfP,OAAO,GAAD,OAAKQ,EAAL,MACNT,MAAM,GAAD,OAAKU,EAAL,MACLG,gBAAgB,OAAD,OAASR,EAAT,KACfS,iBAAkB,YAClBC,mBAAmB,IAAD,OAAMP,EAAN,eAAcD,EAAd,SCTf,SAASS,EAAT,GAAwE,IAAxDC,EAAuD,EAAvDA,OAAQX,EAA+C,EAA/CA,KAA+C,IAAzCP,gBAAyC,MAAhC,CAACS,EAAE,EAAGD,EAAE,GAAwB,MAApBW,YAAoB,MAAb,EAAa,MAAVC,WAAU,MAAJ,EAAI,EAC1EV,EAASH,EAATG,EAAGC,EAAMJ,EAANI,EACX,OACI,cAACN,EAAD,CACIC,MAAQY,EACRlB,SAAUA,EACVO,KAAQ,CACJC,EAAEY,EAAMV,EACRD,EAAEU,EAAOR,EACTD,IACAC,O,WCVD,SAASU,EAAQC,GAAW,IAAD,EACNC,mBAAS,CAACd,EAAG,EAAGD,EAAG,IADb,mBAC/BR,EAD+B,KACrBwB,EADqB,OAEhBD,mBAAS,GAFO,mBAE/BH,EAF+B,KAE1BK,EAF0B,OAGdF,mBAAS,GAHK,mBAG/BJ,EAH+B,KAGzBO,EAHyB,KAIhCC,EAAa,CACfC,KAAM,EACNf,KAAM,EACNgB,MAAO,EACPC,GAAI,GAIFC,EAAW,CACbH,KAAM,CAACnB,EAAG,EAAGD,EAFA,IAGbK,KAAM,CAACJ,GAHM,GAGQD,EAAG,GACxBqB,MAAO,CAACpB,EAJK,GAIQD,EAAG,GACxBsB,GAAI,CAACrB,EAAG,EAAGD,GALE,KAiCjB,MAAM,CACFwB,KA1BJ,SAAcZ,GACVa,QAAQb,MACRK,GAAO,SAAAS,GAEH,OADGP,EAAWP,KAASc,GAM/B,SAAcd,GACVI,GAAY,SAAAU,GACR,IAAMC,EAAa,CAAC1B,EAAGyB,EAAKzB,EAAIsB,EAASX,GAAKX,EAC1CD,EAAG0B,EAAK1B,EAAIuB,EAASX,GAAKZ,GAG9B,OAAI2B,EAAW1B,GAAK2B,KAAkBD,EAAW1B,GAAK,GAC9C0B,EAAW3B,GAAK6B,KAAmBF,EAAW3B,GAAI,EAC/C,CAACC,EAAG0B,EAAW1B,EAClBD,EAAG2B,EAAW3B,GAGX,CAACC,EAAGyB,EAAKzB,EAAGD,EAAG0B,EAAK1B,MAlBF8B,CAAKlB,GAC3BO,EAAWP,MAEtBM,GAAQ,SAAAQ,GAAI,OAAGA,EAAOZ,EAAW,EAAIY,EAAO,EAAI,MAoB3Cd,MAAKD,OAAMnB,YC5CT,SAASuC,IAAU,ICHEC,EDGH,EACQnB,EAAQ,GAAtCD,EADsB,EACtBA,IAAKD,EADiB,EACjBA,KAAMa,EADW,EACXA,KAAMhC,EADK,EACLA,SAYxB,OChBgCwC,EDYpB,SAACC,GACTT,EAAKS,EAAEC,IAAIC,QAAQ,QAAS,IAAIC,eAChCH,EAAEI,kBCbNC,qBAAU,WAEN,OADAC,OAAOC,iBAAiB,UAAWR,GAC5B,kBAAMO,OAAOE,oBAAoB,UAAWT,MACpD,CAACA,IDYG,cAACvB,EAAD,CAAOC,OAAQ,kBAAmBX,KAX5B,CACTG,EAAG,GACHC,EAAG,IAS8CQ,KAAMA,EAAMC,IAAKA,EAAKpB,SAAUA,IEd1E,SAASkD,IACpB,OAAQ,sBACJnD,MAAO,CACHC,SAAU,WACVC,MAAO,QACPC,OAAQ,QACRiD,OAAQ,aALR,UAOJ,cAACrD,EAAD,IACA,cAACyC,EAAD,OCDOa,MARf,WACI,OACI,qBAAKC,UAAU,MAAf,SACI,cAACH,EAAD,OCOGI,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K","file":"static/js/main.65a153ed.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Map() {\n    return <div\n        style={{\n            position:\"absolute\",\n            width: \"800px\",\n            height: \"400px\",\n            backgroundColor: \"#fff59d\",\n            border: \"4px solid white\",\n        }}/>\n}","import React from \"react\";\n\nexport default function Sprite ({image, data, position}){\n    const {y , x , h, w } = data;\n    return <div\n        style={{\n            position:\"absolute\",\n            top: position.y,\n            left: position.x,\n            height: `${h}px`,\n            width: `${w}px`,\n            backgroundImage: `url(${image})`,\n            backgroundRepeat: \"no-repeat\",\n            backgroundPosition: `-${x}px -${y}px`\n        }}/>\n}","import React from \"react\";\n\nimport Sprite from \"../sprite\";\n\nexport default function Actor({sprite, data, position={x:0, y:0}, step = 0, dir = 0}) {\n    const { h, w } = data;\n    return (\n        <Sprite\n            image ={sprite}\n            position={position}\n            data = {{\n                y:dir * h,\n                x:step * w,\n                h,\n                w,\n            }}\n        />\n    );\n}","import {useState} from \"react\";\nimport {MAP_HEIGHT} from \"../../config/constants\";\nimport {MAP_WIDTH} from \"../../config/constants\";\n\nexport default function useWalk(maxSteps) {\n    const [position, setPosition] = useState({x: 0, y: 0})\n    const [dir, setDir] = useState(0)\n    const [step, setStep] = useState(0)\n    const directions = {\n        down: 0,\n        left: 1,\n        right: 2,\n        up: 3,\n    };\n\n    const stepSize = 16;\n    const modifier = {\n        down: {x: 0, y: stepSize},\n        left: {x: -stepSize, y: 0},\n        right: {x: stepSize, y: 0},\n        up: {x: 0, y: -stepSize},\n    }\n\n    function walk(dir) {\n        console.dir();\n        setDir(prev => {\n            if(directions[dir] === prev) move(dir);\n            return directions[dir];\n        });\n        setStep(prev =>prev < maxSteps - 1 ? prev + 1 : 0)\n    }\n\n    function move(dir){\n        setPosition(prev => {\n            const posToCheck = {x: prev.x + modifier[dir].x,\n                y: prev.y + modifier[dir].y,\n            }\n\n            if((posToCheck.x <= MAP_WIDTH - 32 && posToCheck.x >= 0)\n                && (posToCheck.y <= MAP_HEIGHT - 32 && posToCheck.y>= 0)){\n                return {x: posToCheck.x,\n                    y: posToCheck.y,\n                };\n            }else{\n                return {x: prev.x, y: prev.y};\n            }\n        })\n    }\n    return{\n        walk,dir, step, position\n    }\n}","import React from \"react\";\nimport Actor from \"../actor\";\nimport useKeyPress from \"../../hooks/use-key-press\";\nimport useWalk from \"../../hooks/use-walk\";\n\nexport default function Player() {\n    const {dir, step, walk, position } = useWalk(3)\n    const data = {\n        h: 32,\n        w: 32,\n    };\n\n\n\n    useKeyPress((e) => {\n        walk(e.key.replace(\"Arrow\", \"\").toLowerCase());\n        e.preventDefault();\n    })\n    return <Actor sprite={\"./images/m1.png\"} data={data} step={step} dir={dir} position={position}/>\n}","import {useEffect} from \"react\";\n\nexport default function useKeyPress(fn) {\n    useEffect(() => {\n        window.addEventListener(\"keydown\", fn);\n        return () => window.removeEventListener(\"keydown\", fn);\n    }, [fn])\n}","import React from \"react\";\nimport Map from \"../map\";\nimport Player from \"../player\";\n\nexport default function World () {\n    return (<div\n        style={{\n            position: \"relative\",\n            width: \"800px\",\n            height: \"400px\",\n            margin: \"20px auto\"\n        }}>\n        <Map />\n        <Player />\n    </div>\n    )\n}","import React from 'react';\nimport './App.css';\nimport World from \"./components/world\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <World/>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}